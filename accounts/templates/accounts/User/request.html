{% extends "accounts/User/main.html" %}


{% load static %}


{% block requester %}

<style>
    .input-group {
      display: flex;
    }
  
    #quantityInput {
      flex: 1;
      width: 30px;
    }
  
    .btn-inc-dec {
      flex: 0;
    }
  
    /* Style for the modal */
    .modal {
      display: none;
      position: fixed;
      top: 456px;
      left: 300px;
      width: 20%;
      height: 55%;
      background-color: rgba(0, 0, 0, 0.7);
    }
  
    .modal-content {
      position: absolute;
      top: 456px;
      left: 50%;
      width: 1000px;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 5px;
    }
  
    .close {
      position: absolute;
      top: 0;
      right: 0;
      padding: 10px;
      cursor: pointer;
    }

</style>

<div class="container-fluid" style=" height: 68vh; overflow-y: auto; overflow-x: hidden; ">
    <div class="container">
        <h1 class="pr text-center pt-4">CREATE PURCHASE REQUEST</h1>
    </div>

    <br>
    <br>
    <br>

      <form id="addItemForm" method="POST" action="{% url 'addItem' %}">
        {% csrf_token %}
        
        <div class="row">
          <div class="col-6 col-sm-6 col-md-6 col-lg-4">
              <select class="form-control" id="categoryDropdown" name="categoryDropdown">
                  <option value="" disabled selected>Choose Category</option>
                  <option value="option1">ANTISEPTICS</option>
                  <option value="option2">APPLIANCES</option>
                  <!-- ... more options ... -->
                  <option value="option8">PERSONAL PROTECTIVE EQUIPMENT</option>
              </select>
          </div>
      
          <div class="col-2 col-sm-2 col-md-2 col-lg-1">
              <p>----- or ------</p>
          </div>
      
          <div class="col-4 col-sm-4 col-md-4 col-lg-2">
              <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addItemModal">Add Item</button>
          </div>
      
          <div class="col-6 col-sm-6 col-md-5 col-lg-3">
              <input class="form-control mb-3" type="text" placeholder="Search" id="search_bar_request">
          </div>
      
          <div class="col-2 col-sm-2 col-md-1 col-lg-1">
            <a href="{% url 'requester' %}">
                <i>
                    <img src="{% static 'images/cart.png' %}" alt="Icon Description">
                </i>
            </a>
        </div>
      </div>
      
          

           


            <br>
            <br>
            <br>
            <br>


            <div class=" table table-responsive">
                 <table class="table" id="create_request_table" style="border: 1px solid black;">
                    <thead>
                        <tr>
                            <th class="text-center text-nowrap" style="min-width: 15rem;">Purpose</th>
                            <th class="text-center text-nowrap" style="min-width: 15rem;">Item Name</th>
                            <th class="text-center text-nowrap" style="min-width: 7rem;">Item Brand/Description</th>
                            <th class="text-center text-nowrap" style="min-width: 7rem;">Unit</th>
                            <th class="text-center text-nowrap" style="min-width: 7rem;">Unit Cost</th>
                            <th class="text-center text-nowrap" style="min-width: 7rem;">Quantity</th>
                            <th class="text-center text-nowrap"></th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for item in items_from_database %}
                        <tr>
                            <td class="text-center text-nowrap">
                                <!-- Input text for Purpose -->
                                <input type="text" name="purpose" value="{{ item.purpose }}">
                            </td>
                            <td class="text-center text-nowrap">{{ item.item_name }}</td>
                            <td class="text-center text-nowrap">{{ item.item_description }}</td>
                            <td class="text-center text-nowrap">{{ item.unit }}</td>
                            <td class="text-center text-nowrap">{{ item.unit_cost }}</td>
                            <td class="text-center text-nowrap">{{ item.quantity }}</td>
                            <td class="text-center text-nowrap">
                                <!-- Add any additional actions or buttons here -->
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
              </div>

            


            
        </div>
        
        

        <div class="modal fade" id="addItemModal" tabindex="-1" role="dialog" aria-labelledby="addItemModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
              <div class="modal-content">
                  <div class="modal-header">
                      <h5 class="modal-title" id="addItemModalLabel">Add Item</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                      </button>
                  </div>

                  <div class="modal-body">

                          
                          <div class="form-group">
                              <label for="exampleFormcontrolTextarea1 p-2">Purpose:</label>
                              <textarea class="form-control" id="exampleFormcontrolTextarea1" name="item_purpose" ></textarea>
                          </div>
                          

                          <div class="form-group">
                              <label for="Item">Item</label>
                              <input type="text" class="form-control" id="Item" name="item" required>
                          </div>

                          <div class="form-group">
                              <label for="Item_Brand_Description">Item Brand/Description</label>
                              <input type="text" class="form-control" id="Item_Brand_Description" name="item_Brand_Description" required>
                          </div>

                          <div class="form-group">
                              <label for="Unit">Unit</label>
                              <input type="text" class="form-control" id="Unit" name="unit" required>
                          </div>

                          <div class="form-group">
                              <label for="Unit">Unit Cost</label>
                              <input type="text" class="form-control" id="Unit_Cost" name="unit_Cost" required>
                          </div>
                          
                          <div class="form-group">
                              <label for="Quantity">Quantity</label>
                              <input type="text" class="form-control" id="Quantity" name="quantity" required>
                          </div>

                          <div class="modal-footer">
                              <button type="submit" value ="submit" class="btn btn-primary" >Add to Cart</button>
                              
                          </div>
                  </div>
              </div>
          </div>
        </div>
      </form>
</div>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

{% endblock %}