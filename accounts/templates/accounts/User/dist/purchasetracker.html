{% extends "accounts/User/main.html" %}

{% load static %}

{% block purchasetracker %}
<style>
  .custom-f {
    display: flex;
    justify-content: center;
  }

  .pad {
    padding: 0px !important;
  }

  .item-received {
    margin: 20px auto;
  }

  .table-bordered th {
    background-color: #1c96c5;
  }

  .item-actions {
    display: none;
  }

  tr:hover .item-actions {
    display: flex;
  }

  .table-bordered th {
    background-color: #1c96c5;
  }

  .bck {
    margin-bottom: 20px;
  }

  .custom-f {
    margin-top: 20px;
  }

  .bck a {
    display: flex;
    align-items: center;
    text-decoration: none;
  }

  .bck img {
    width: 50px;
    height: 50px;
    transition: transform 0.3s ease-in-out;
    /* Apply transition to the transform property */
  }

  .bck:hover img {
    transform: scale(1.2);
    /* Scale the image to 1.2 times its original size on hover */
  }
 
</style>

<div class="container-fluid" style="height: 68vh; overflow-y: auto; overflow-x: hidden;">
  <div class="container">
  </div>
  <div class="container" style="display: inline-flex; margin: 3; flex-direction: column;">
    <div style="display: flex; align-items: baseline; flex-wrap: nowrap;"></div>
  </div>
  <div class="bck">
    <a href="{% url 'userlanding' %}">
      <img src="{% static 'images/back2.png' %}" alt="Previous">
    </a>
  </div>
  <div class="custom-f row w-100 m-auto border text-start text-dark">
    <div class="pad col">
      <table class="table table-bordered" style="margin: 0px!important;">
        <thead>
          <tr>
            <th class="text-center">DATE REQUESTED</th>
            <th class="text-center"> PR NO.</th>
            <th class="text-center">STATUS</th>
            <th class="text-center">COMMENT</th>
            <th class="text-center">LAST UPDATED</th>
          </tr>


        </thead>
        <tbody>
          {% if tracker %}
          {% for p in tracker %}
          <tr>
            <TD class="text-center">{{ p.submission_date }}</TD>
            <td class="text-center"> {{ p.pr_id }}</td>
            <td class="text-center">
              {% if p.status == 'approved' %}
                  <span class="badge badge-success text-uppercase" style="font-size: 18px;">{{ p.status }}</span>
              {% elif p.status == 'declined' %}
                  <span class="badge badge-warning text-uppercase" style="font-size: 18px;">{{ p.status }}</span>
              {% else %}
                  <span class="badge badge-danger text-uppercase" style="font-size: 18px;">Pending</span>
              {% endif %}
          </td>
            <td class="text-center">
              {% if p.comment %}
              {{ p.comment }}
              {% else %}
              No comment yet
              {% endif %}

            </td>


            <td class="text-center"> {{ p.last_updated }}</td>

          </tr>
          {% endfor %}
          {% else %}

            </tbody>
      </table>
       
        <tr>
          <td colspan="4" class="text-center" id="no-purchase-request"><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No Purchase Request</strong></td>
        </tr>

          {% endif %}

     
    </div>
  </div>
</div>
{% endblock %}