<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CSV Reader</title>
</head>
<body>
  <input type="file" id="csvInput" accept=".csv">
  <button onclick="readCSV()">Read CSV</button>
  <div id="tableContainer"></div>

  <script>
    function readCSV() {
      const input = document.getElementById('csvInput');
      const tableContainer = document.getElementById('tableContainer');

      const file = input.files[0];
      const reader = new FileReader();

      reader.onload = function (e) {
        const content = e.target.result;
        const rows = content.split('\n').map(row => row.split(','));

        // Create a table dynamically
        const table = document.createElement('table');
        table.border = '1';

        // Assuming the first row contains headers
        const headers = rows[0];

        // Create header row
        const headerRow = document.createElement('tr');
        headers.forEach(header => {
          const th = document.createElement('th');
          th.textContent = header;
          headerRow.appendChild(th);
        });
        table.appendChild(headerRow);

        // Populate data rows
        for (let i = 1; i < rows.length; i++) {
          const dataRow = document.createElement('tr');
          rows[i].forEach(cell => {
            const td = document.createElement('td');
            td.textContent = cell;
            dataRow.appendChild(td);
          });

          // Add click event to update your project
          dataRow.addEventListener('click', function () {
            // Assuming the first column contains the item ID and the second column contains the price
            const itemId = rows[i][0];
            const newPrice = rows[i][1];

            // Call a function to update your project with the new price
            updatePriceInRequestTracker(itemId, newPrice);
          });

          table.appendChild(dataRow);
        }

        // Replace the content of the container with the new table
        tableContainer.innerHTML = '';
        tableContainer.appendChild(table);
      };

      reader.readAsText(file);
    }

    function updatePriceInRequestTracker(itemId, newPrice) {
      // Implement your logic to update the request tracker with the new price
      console.log(`Update request tracker for item ${itemId} with new price: ${newPrice}`);
    }
  </script>
</body>
</html>
